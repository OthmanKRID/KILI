@model Kili.Models.Vente.Panier

@{
    Layout = "_LayoutBoutique";
    ViewBag.Title = "Panier";
}

    
<!-- intro boutique -->
<section id="feature" class="feature">

    <div class="container">
        <div class="Liste-panier">
            <div class="col-xl-12 col-lg-12 col-md-10 col-sm-12 col-md-12">
                <section class="card">
                    <H3 style="text-align:center"> Panier</H3>
                    <!------------------------------------------- Ligne du premier article-->
                    <ul class="list-group-item align-items-center">
                        <li class="list-group-item align-items-center drag-handle clearfix">
                            <span class="drag-indicator"></span>
                            <div class="col-sm-10">
                                @Html.HiddenFor(c => Model.Articles)
                                <div class="col-md-2 col-md-10">Désignation</div>
                                <div class="col-md-2 col-md-10">Format</div>
                                <div class="col-md-2 col-md-10">Prix Unitaire</div>
                                <div class="col-md-2 col-md-10">Quantité</div>
                                <div class="col-md-2 col-md-10">Sous-Total</div>
                            </div>
                        </li>
                        @foreach (var article in Model.Articles)
                        {
                        <ul>
                            <li class="list-group-item align-items-center drag-handle clearfix">
                            <span class="drag-indicator"></span>
                            <div class="col-sm-10">
                                <div class="col-md-2 col-md-10">@article.Produit.Designation</div>
                                <div class="col-md-2 col-md-10">@article.Produit.Format</div>
                                <div class="col-md-2 col-md-10">@article.Produit.PrixUnitaire</div>
                                <div class="col-md-2 col-md-10">@article.Quantite</div>
                                <div class="col-md-2 col-md-10">@(article.Produit.PrixUnitaire*article.Quantite)</div><br></br>

                
                            </div>  
              
                               
                             @Html.ActionLink("Supprimer", "SupprimerArticle", "Vente", new{id = article.ArticleId}, new{@class = "btn btn-primary"})
                             
                            </li>
                        </ul>
                        }
                        
                        <li class="list-group-item align-items-center drag-handle clearfix">
                            <span class="drag-indicator"></span>
                             
                                @*<button button type="button" class="button">@Html.ActionLink("Valider panier", "Livraison")</button>*@
                                @Html.ActionLink("Continuer ses achats", "IndexBoutique", null, null, new { @class="btn btn-primary" })
                                @Html.ActionLink("Valider panier", "Livraison", null, null, new { @class="btn btn-success" })
                                
                               
                              
                        </li>
                    </ul>
                    <p class="text-right">Total <span class="price text-right" style="color:black;" ><b>@(Model.Articles.Sum(article => article.Produit.PrixUnitaire * article.Quantite)) &euro;</b></span></p>
                </section>

            </div>
        </div>
    </div>
</section>