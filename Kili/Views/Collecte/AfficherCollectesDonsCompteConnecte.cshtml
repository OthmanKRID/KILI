
@model Kili.ViewModels.CollecteDonViewModel;
@{
    Layout = "_Layout";
    ViewBag.Title = "Collect";
}
<body>
    <section id="container">
        <!--barre NAV start-->
 
        <!--main content start-->
        <section id="main-content">
            <section class="wrapper">
                <!--description asso-->
                <div class="row">
                    <div class="col-md-12">
                        <section class="panel">
                            <div class="panel-body profile-information">
                                <div class="col-md-3">
                                    <div class="profile-pic text-center">
                                        <img src="images/logo-asso.png" alt="" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="profile-desk">
                                        <h1>Nom Association </h1>
                                        <span class="text-muted">Thématique</span>
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean porttitor
                                            vestibulum imperdiet. Ut auctor accumsan erat, a vulputate metus tristique
                                            non. Aliquam aliquam vel orci quis sagittis.
                                        </p>
                                        <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#myModalCréa">Créer une collecte</a> <!--Création de la collect-->
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="profile-statistics">
                                        <h1>@Model.montantglobalcollectes €</h1>
                                        <p>Collectes des dons</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <!--Liste collecte start-->
                        <section class="panel">


                <header class="panel-heading">
                    Liste des collectes 
                </header>
                <div class="row">
                    <div class="col-sm-12">
                        <section class="panel">
                            <div class="panel-body">
                                
                                <table class="table  table-hover general-table">
                                    <thead>
                                        <tr>
                                            <th> Nom</th>
                                            <th class="hidden-phone"> Montant collecté</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    @foreach (var v in Model.listecollecte)  
                                        {
                                    <tbody>
                                        <tr>
                                            <td><a href="#">@v.Nom</a></td>
                                            <td class="hidden-phone">@v.MontantCollecte</td>
                                            <td>@v.Descriptif </td>
                                            <td><a href="#" data-elemid="@v.Id" class="todo-edit" id="LinkPopup" style="margin-right:10px;"><i class="fa fa-arrow-circle-up fa-2x" aria-hidden="true" data-toggle="modal" data-target="#myModal"></i></a><a href=@("/collecte/supprimercollecte/" + v.Id) class="todo-remove"><i class="fa fa-times-circle fa-2x" aria-hidden="true" style="color:red;"></i></a></td>
                                        </tr>
                                    </tbody>
                                    }
                                </table>
                            </div>
                        </section>
                    </div>
                </div>
    <!------------------------------------------------------------------ (POPUP) Modal  pour la création de la collect ---------------------------------------------------------->
                 <div class="modal fade" id="myModalCréa" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title">Créer collecte</h4>
                            </div>
                            <div class="modal-body row">
                                
                                @using (Html.BeginForm("CreerCollecte","Collecte", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                {
                               @*<form action="/action_page.php">*@
                                <div class="col-md-2 img-modal">
                                    <img src="images/gallery/image1.jpg" alt="">                               
                                </div>
                                
                                     <fieldset>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label> Nom</label>
                                        @Html.TextBoxFor(m => Model.collecte.Nom, new {@id="name", @value="nom", @class="form-control"}) 
                                    </div>
                                    @*<div class="form-group">
                                        <label> Montant</label>
                                        <input id="title" value="Montant" class="form-control">
                                    </div>*@
                                    <div class="form-group">
                                        <label> Description</label>
                                        @Html.TextAreaFor(m => Model.collecte.Descriptif, new {@rows="2", @class="form-control"})
                                        @*<textarea rows="2" placeholder= "description" class="form-control"></textarea>*@
                                    </div>
                                    @*<div class="form-group">
                                        
                                            <input type="date" id="Date" name="Date" placeholder="Date de fin">
                                   @*</form>*@
                                                                        
                                    </div>
                                    <div class="pull-down">
                                        <input type="submit" class="btn btn-primary" value="Valider"/>
                                        @*
                                        <a href="#" class="btn btn-white btn-sm"><i class="fa fa-pencil"></i>Insérer l'image</a>
                                        <a href="AfficherCollectesDonsCompteConnecte"><button class="btn btn-danger" type="button">Annuler</button></a>                                   
                                        <button class="btn btn-primary" type="button">Enregistrer</button>*@
                                    </div>
                                    </fieldset>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
<!--------------------------------------------------------------------- fin de modal création de la collect -------------------------------------------------------------->
        <!------------------------------------------------------------------------------------------------------------------------------------------------------->
<!---------------------------------------------------------------------(POPUP) Modal  pour la modification --------------------------------------------------------------->
                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                        <h4 class="modal-title">Modifier collect</h4>
                                    </div>
                                    <div class="modal-body row">
                                        <div class="col-md-5 img-modal">
                                            <img src="images/gallery/image1.jpg" alt="">
                                            <a href="#" class="btn btn-white btn-sm"><i class="fa fa-pencil"></i> Modifier l'image</a>
                                        </div>
                                         @using (Html.BeginForm("ModifierCollecte","Collecte", FormMethod.Post,new{@id="updateformcollect"}))
                                        {
                                     <fieldset>
                                        <div class="col-md-7">                                       
                                            <div class="form-group">
                                                <label> Nom</label>
                                                @Html.TextBoxFor(m => Model.collecte.Nom, new {@id="name", @value="nom", @class="form-control"}) 
                                                @Html.HiddenFor(m=> Model.collecte.Id)
                                            </div>
                                            <div class="form-group">
                                                <label> Description</label>
                                                @Html.TextAreaFor(m => Model.collecte.Descriptif, new {@rows="2", @class="form-control"})
                                            </div>
                                            @*<div class="form-group">
                                                <form action="/action_page.php">
                                                    <input type="date" id="Date" name="Date" placeholder="Date de fin">
                                                </form>
                                            </div>*@
                                            
                                        
                                            <div class="pull-right">
                                                @*<button class="btn btn-danger" type="button">Supprimer la collecte</button>
                                                <button class="btn btn-primary" type="button">Enregistrer</button>*@
                                                <input type="submit" class="btn btn-primary" value="Valider"/>
                                            </div>
                                            </fieldset>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
<!------------------------------------------------------------ fin de modal modification ------------------------------------------------------------------------>

                </section>
            </div>
        </div>
                </div>
                <!--liste de don start-->
                <header class="panel-heading">
                    Liste des dons 
                </header>
                <div class="row">
                    <div class="col-sm-12">
                        <section class="panel">
                            <div class="panel-body">
                                
                                <table class="table  table-hover general-table">
                                    <thead>
                                        <tr>
                                            <th> Nom de la collecte</th>
                                            <th class="hidden-phone"> Montant</th>
                                            <th>Récurrence</th>
                                        </tr>
                                    </thead>
                                    @foreach (var v in Model.listedon)  
                                        {
                                    <tbody>
                                        <tr>
                                            <td><a href="#">@v.Collecte.Nom</a></td>
                                            <td class="hidden-phone">@v.Montant</td>
                                            <td>@v.Recurrence </td>
                                        </tr>
                                    </tbody>
                                    }
                                </table>
                            </div>
                            <!--liste de don end-->
                        </section>
                    </div>
                </div>
            </section>
        </section>
        <!--main content end-->
    </section>
</body>

